<ng-container *transloco="let t">
  <div class="h-full w-full">
    <div class="flex h-full w-full justify-center items-center">
      <div class="w-64">
        <form [formGroup]="form" class="flex flex-col space-y-5" (ngSubmit)="signIn()">
          <img class="mx-auto h-8 w-auto" src="/assets/img/logos/logo-large.png" alt="Hyperastra Logo" />
          <div>
            <h1 class="text-lg text-center mt-8">{{ t('signIn.welcome') }}</h1>
          </div>
          <div>
            <label for="email" class="block text-sm font-medium leading-5 text-gray-700">
              {{ t('signIn.email') }}
            </label>
            <div class="mt-1 rounded-md shadow-sm">
              <input
                formControlName="email"
                autocomplete="off"
                hyperAutofocusable
                id="email"
                type="email"
                required
                placeholder="your@email.com"
                class="appearance-none block w-full px-3 py-2 border border-cool-gray-300 rounded-sm placeholder-cool-gray-400 focus:outline-none focus:border-cool-gray-600 transition duration-150 ease-in-out sm:text-sm sm:leading-5"
              />
            </div>
          </div>
          <div>
            <label for="password" class="block text-sm font-medium leading-5 text-cool-gray-700">
              {{ t('signIn.password') }}
            </label>
            <div class="mt-1 rounded-md shadow-sm">
              <input
                formControlName="password"
                autocomplete="off"
                id="password"
                type="password"
                required
                [placeholder]="t('signIn.password_placeholder')"
                class="appearance-none block w-full px-3 py-2 border border-cool-gray-300 rounded-sm placeholder-gray-400 focus:outline-none focus:border-cool-gray-600 transition duration-150 ease-in-out sm:text-sm sm:leading-5"
              />
            </div>
            <a
              [routerLink]="['/reset']"
              routerLinkActive="router-link-active"
              class="block mt-3 text-xs text-cool-gray-500 underline hover:text-cool-gray-800"
              id="email-description"
              >{{ t('signIn.password_reset') }}</a
            >
          </div>
          <div>
            <ng-container *ngIf="error$ | async; let error">
              <p class="text-red-500 text-sm mb-6">
                <ng-container [ngSwitch]="error.code">
                  <ng-container *ngSwitchCase="'auth/user-not-found'">
                    {{ t('signIn.errors.auth/user-not-found') }}</ng-container
                  >
                  <ng-container *ngSwitchDefault>Incorrect email or password</ng-container>
                </ng-container>
              </p>
            </ng-container>

            <span class="block w-full rounded-xs shadow-xs mt-2">
              <button
                type="submit"
                class="w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-xs text-white bg-primary-600 hover:bg-primary-500 focus:shadow-outline-primary focus:outline-none focus:border-primary-700 active:bg-primary-700 transition duration-150 ease-in-out"
              >
                {{ t('signIn.button') }}
              </button>
            </span>
            <p class="text-xs mt-3 text-center">
              <span class="pr-1">{{ t('signIn.register.description') }}</span>
              <a class="text-primary-600" [routerLink]="['/sign_up']">{{ t('signIn.register.action') }}</a>
            </p>
          </div>
          <div class="relative">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm leading-5">
              <span class="px-2 bg-white text-gray-500">
                O
              </span>
            </div>
          </div>
          <div>
            <span class="block w-full rounded-xs shadow-xs">
              <button
                type="submit"
                class="w-full google-logo flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-xs text-cool-gray-700 bg-white-600 hover:bg-cool-gray-50 focus:outline-none focus:border-cool-gray-700 active:bg-cool-gray-50 transition duration-150 ease-in-out"
              >
                {{ t('signIn.google') }}
              </button>
            </span>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-container>
